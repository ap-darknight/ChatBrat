{"version":3,"sources":["services/firebase.js","components/Header.js","components/Footer.js","pages/Home.js","pages/Chat.js","helpers/auth.js","pages/Signup.js","pages/Login.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","auth","db","database","Header","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","currentUser","onClick","signOut","Footer","HomePage","Component","Chat","props","state","user","chats","content","readError","writeError","loadingChats","handleChange","bind","handleSubmit","myRef","React","createRef","this","setState","chatArea","current","ref","on","snapshot","forEach","snap","push","val","sort","a","b","timestamp","scrollBy","scrollHeight","error","message","event","target","value","preventDefault","Date","now","uid","d","getDate","getMonth","getFullYear","getHours","getMinutes","role","map","chat","key","formatTime","onSubmit","name","onChange","email","signin","password","signInWithEmailAndPassword","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","signInWithGitHub","GithubAuthProvider","Login","googleSignIn","githubSignIn","autocomplete","placeholder","PrivateRoute","component","authenticated","rest","render","pathname","from","location","PublicRoute","App","loading","onAuthStateChanged","exact","path","Home","Signup","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1a4f01de.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nconst config = {\r\n  apiKey: \"AIzaSyCq18KBKU_ZDmDv_EsWU7mCc-OvKFuD9v0\",\r\n  authDomain: \"chatbrat-f5edd.firebaseapp.com\",\r\n  databaseURL: \"https://chatbrat-f5edd.firebaseio.com\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const auth = firebase.auth;\r\nexport const db = firebase.database();","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { auth } from '../services/firebase';\r\n\r\nfunction Header() {\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<nav className=\"navbar navbar-expand-sm fixed-top navbar-light bg-light\">\r\n\t\t\t\t<Link className=\"navbar-brand\" to=\"/\">ChatBrat</Link>\r\n\t\t\t\t<button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className=\"collapse navbar-collapse justify-content-end\" id=\"navbarNavAltMarkup\">\r\n\t\t\t\t\t{auth().currentUser ?\r\n\t\t\t\t\t\t<div className=\"navbar-nav\">\r\n\t\t\t\t\t\t\t<Link className=\"nav-item nav-link mr-3\" to=\"/chat\">Profile</Link>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary mr-3\" onClick = {() => auth().signOut()}>Log Out</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t: \r\n\t\t\t\t\t\t<div className=\"navbar-nav\">\r\n\t\t\t\t\t\t\t<Link className=\"nav-item nav-link mr-3\" to=\"/login\">Sign In</Link>\r\n\t\t\t\t\t\t\t<Link className=\"nav-item nav-link mr-3\" to=\"/signup\">Sign Up</Link>    \r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Footer() {\r\n\treturn (\r\n\t\t<footer className=\"pt-5\">\r\n\t\t\t<div className=\"container text-center\">\r\n\t\t\t\t<p>&copy; ChatBrat @Ap_darknight 2020</p>\r\n\t\t\t</div>\r\n\t\t</footer>\t\r\n\t);\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class HomePage extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"home\">\r\n\t\t\t\t<Header/>\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<div className=\"jumbotron jumbotron-fluid py-5\">\r\n\t\t\t\t\t\t<div className=\"container text-center py-5\">\r\n\t\t\t\t\t\t\t<h1 className=\"display-4\">Welcome to ChatBrat</h1>\r\n\t\t\t\t\t\t\t<p className=\"lead\">A place to share your thoughts with nears and dears!</p>\r\n\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary px-5 mr-3\" to=\"/signup\">Create New Account</Link>\r\n\t\t\t\t\t\t\t\t<Link className=\"btn px-5\" to=\"/login\">Login to Your Account</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t\t<Footer/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React, { Component } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport { auth } from \"../services/firebase\";\r\nimport { db } from \"../services/firebase\";\r\n\r\nexport default class Chat extends Component {\r\n\tconstructor(props){\r\n\t\t\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tuser: auth.currentUser,\r\n\t\t\tchats: [],\r\n\t\t\tcontent: '',\r\n\t\t\treadError: null,\r\n\t\t\twriteError: null,\r\n\t\t\tloadingChats: false\r\n\t\t\t\r\n\t\t};\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.myRef = React.createRef();\r\n\t}\r\n\t\r\n\tasync componentDidMount() {\r\n\t\tthis.setState({ readError: null, loadingChats: true});\r\n\t\tconst chatArea = this.myRef.current;\r\n\t\t\r\n\t\ttry{\r\n\t\t\tdb.ref(\"chats\").on(\"value\", snapshot => {\r\n\t\t\t\tlet chats=[];\r\n\t\t\t\tsnapshot.forEach((snap) => {\r\n\t\t\t\t\tchats.push(snap.val());\r\n\t\t\t\t});\r\n\t\t\t\tchats.sort((a,b) => {return a.timestamp - b.timestamp})\r\n\t\t\t\tthis.setState({chats});\r\n\t\t\t\tchatArea.scrollBy(0, chatArea.scrollHeight);\r\n\t\t\t\tthis.setState({ loadingChats: false});\r\n\t\t\t})\r\n\t\t} catch (error){\r\n\t\t\tthis.setState({ readError: error.message, loadingChats: false});\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\thandleChange(event) {\r\n\t\tthis.setState({\r\n\t\t  content: event.target.value\r\n\t\t});\r\n\t}\r\n\t\r\n\tasync handleSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({ writeError: null});\r\n\t\tconst chatArea = this.myRef.current;\r\n\t\ttry {\r\n\t\t\tawait db.ref(\"chats\").push({\r\n\t\t\t\tcontent: this.state.content,\r\n\t\t\t\ttimestamp: Date.now(),\r\n\t\t\t\tuid: this.state.user.uid\r\n\t\t\t});\r\n\t\t\tthis.setState({content: '' });\r\n\t\t\tchatArea.scrollBy(0, chatArea.scrollHeight);\r\n\t\t} catch(error){\r\n\t\t\tthis.setState({ writeError: error.message});\r\n\t\t}\r\n\t}\r\n\t\r\n\tformatTime(timestamp){\r\n\t\tconst d = new Date(timestamp);\r\n\t\tconst time = `${d.getDate()}/${(d.getMonth()+1)}/${d.getFullYear()} ${d.getHours()}:${d.getMinutes()}`;\r\n\t\treturn time;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Header />\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"chat-area\" ref={this.myRef}>\r\n\t\t\t\t\t{this.state.loadingChats ? <div className=\"spinner-border text-success\" role=\"status\">\r\n\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\r\n\t\t\t\t\t</div> : \"\"\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t{this.state.chats.map(chat => {\r\n\t\t\t\t\t\treturn <p key={chat.timestamp} className={\"chat-bubble\" + (this.state.user.uid === chat.uid ? \"current-user \": \"\")}>\r\n\t\t\t\t\t\t\t{chat.content}\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<span className=\"chat-time float-right\">{this.formatTime(chat.timestamp)}</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<form onSubmit={this.handleSubmit} className=\"mx-3\">\r\n\t\t\t\t\t<textarea className=\"form-control\" name=\"content\" onChange={this.handleChange} value={this.state.content}></textarea>\r\n\t\t\t\t\t{this.state.error ? <p className=\"text-danger\">{this.state.error}</p> : null}\r\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-submit px-5 mt-4\">Send</button>\r\n\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t\t<div className=\"py-5 mx-3\">\r\n\t\t\t\t  Login in as: <strong className=\"text-info\">{this.state.user.email}</strong>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n","import { auth } from '../services/firebase';\r\n\r\nexport function signup(email, password) {\r\n\treturn auth().createUserWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function signin(email, password) {\r\n\treturn auth().signInWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function signInWithGoogle() {\r\n\tconst provider = new auth.GoogleAuthProvider();\r\n\treturn auth().signInWithPopup(provider);\r\n}\r\n\r\nexport function signInWithGitHub() {\r\n\tconst provider = new auth.GithubAuthProvider();\r\n\treturn auth().signInWithPopup(provider);\r\n}\r\n\r\nexport function logout() {\r\n\treturn auth().signOut();\r\n}","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signin, signInWithGoogle, signInWithGitHub } from \"../helpers/auth\";\r\n\r\nexport default class Login extends Component {\r\n\t\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\terror: null,\r\n\t\t\temail: '',\r\n\t\t\tpassword: ''\r\n\t\t};\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.googleSignIn = this.googleSignIn.bind(this);\r\n\t\tthis.githubSignIn = this.githubSignIn.bind(this);\r\n\t}\r\n\t\r\n\thandleChange(event){\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\tasync handleSubmit(event){\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({ error: '' });\r\n\t\ttry{\r\n\t\t\tawait signin(this.state.email, this.state.password);\r\n\t\t} catch(error){\r\n\t\t\tthis.setState({error: error.message});\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync googleSignIn(){\r\n\t\ttry{\r\n\t\t\tawait signInWithGoogle();\r\n\t\t}catch(error){\r\n\t\t\tthis.setState({error: error.message});\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync githubSignIn(){\r\n\t\ttry{\r\n\t\t\tawait signInWithGitHub();\r\n\t\t}catch(error){\r\n\t\t\tthis.setState({error: error.message});\r\n\t\t}\r\n\t}\r\n\t\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<form className=\"mt-5 py-5 px-5\"\r\n\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\tonSubmit={this.handleChange}>\r\n\t\t\t\t\r\n\t\t\t\t\t<h1>Login to <Link className=\"title ml-2\">ChatBrat</Link></h1>\r\n\t\t\t\t\t<p className=\"lead\">Fill in the form to login to your account</p>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<input className=\"form-control\"\r\n\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tvalue={this.state.email} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<input className=\"form-control\"\r\n\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tvalue={this.state.password} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t{this.state.error ? (\r\n\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.error}</p>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p>You can also log in with any of these services</p>\r\n\t\t\t\t\t<button className=\"btn btn-danger mr-2\" type=\"button\" onClick={this.googleSignIn}>Sign in with Google</button>\r\n\t\t\t\t\t<button className=\"btn btn-secondary\" type=\"button\" onClick={this.githubSignIn}>Sign in with Github</button>\r\n\t\t\t\t\t<hr/>\r\n\t\t\t\t\t<p>Don't have an account? <Link to=\"/signup\">Sign up</Link></p>\r\n\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signin, signInWithGoogle, signInWithGitHub } from \"../helpers/auth\";\r\n\r\nexport default class Login extends Component {\r\n\t\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\terror: null,\r\n\t\t\temail: '',\r\n\t\t\tpassword: ''\r\n\t\t};\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.googleSignIn = this.googleSignIn.bind(this);\r\n\t\tthis.githubSignIn = this.githubSignIn.bind(this);\r\n\t}\r\n\t\r\n\thandleChange(event){\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\tasync handleSubmit(event){\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({ error: '' });\r\n\t\ttry{\r\n\t\t\tawait signin(this.state.email, this.state.password);\r\n\t\t} catch(error){\r\n\t\t\tthis.setState({error: error.message});\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync googleSignIn(){\r\n\t\ttry{\r\n\t\t\tawait signInWithGoogle();\r\n\t\t}catch(error){\r\n\t\t\tthis.setState({error: error.message});\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync githubSignIn(){\r\n\t\ttry{\r\n\t\t\tawait signInWithGitHub();\r\n\t\t}catch(error){\r\n\t\t\tthis.setState({error: error.message});\r\n\t\t}\r\n\t}\r\n\t\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<form className=\"mt-5 py-5 px-5\"\r\n\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\tonSubmit={this.handleChange}>\r\n\t\t\t\t\r\n\t\t\t\t\t<h1>Login to <Link className=\"title ml-2\">ChatBrat</Link></h1>\r\n\t\t\t\t\t<p className=\"lead\">Fill in the form to login to your account</p>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<input className=\"form-control\"\r\n\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tvalue={this.state.email} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<input className=\"form-control\"\r\n\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tvalue={this.state.password} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t{this.state.error ? (\r\n\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.error}</p>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p>You can also log in with any of these services</p>\r\n\t\t\t\t\t<button className=\"btn btn-danger mr-2\" type=\"button\" onClick={this.googleSignIn}>Sign in with Google</button>\r\n\t\t\t\t\t<button className=\"btn btn-secondary\" type=\"button\" onClick={this.githubSignIn}>Sign in with Github</button>\r\n\t\t\t\t\t<hr/>\r\n\t\t\t\t\t<p>Don't have an account? <Link to=\"/signup\">Sign up</Link></p>\r\n\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n","import React, { Component } from \"react\";\nimport {\n  Route,\n  BrowserRouter as Router,\n  Switch,\n  Redirect\n} from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Chat from \"./pages/Chat\";\nimport Signup from \"./pages/Signup\";\nimport Login from \"./pages/Login\";\nimport { auth } from \"./services/firebase\";\nimport './styles.css';\n\nfunction PrivateRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authenticated === true ? (\n          <Component {...props} />\n        ) : (\n            <Redirect\n              to={{ pathname: \"/login\", state: { from: props.location } }}\n            />\n          )\n      }\n    />\n  );\n}\n\nfunction PublicRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authenticated === false ? (\n          <Component {...props} />\n        ) : (\n            <Redirect to=\"/chat\" />\n          )\n      }\n    />\n  );\n}\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      authenticated: false,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          authenticated: true,\n          loading: false\n        });\n      } else {\n        this.setState({\n          authenticated: false,\n          loading: false\n        });\n      }\n    });\n  }\n\n  render() {\n    return this.state.loading === true ? (\n      <div className=\"spinner-border text-success\" role=\"status\">\n        <span className=\"sr-only\">Loading...</span>\n      </div>\n    ) : (\n        <Router>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <PrivateRoute\n              path=\"/chat\"\n              authenticated={this.state.authenticated}\n              component={Chat}\n            />\n            <PublicRoute\n              path=\"/signup\"\n              authenticated={this.state.authenticated}\n              component={Signup}\n            />\n            <PublicRoute\n              path=\"/login\"\n              authenticated={this.state.authenticated}\n              component={Login}\n            />\n          </Switch>\n        </Router>\n      );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}